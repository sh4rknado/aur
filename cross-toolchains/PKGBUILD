# Maintainer: jordan B. <bertieaux.jo@gmail.com>
pkgname="ToolschainsHeaders"
pkgver="1.0"
pkgrel=1
pkgdesc="Toolschains LFS Packages"
arch=(x86_64)
url=""
license=('GPL')
groups=()
depends=('figlet')
makedepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=(
  'http://192.168.1.202/aur/binutils-toolchains/BINUTILS-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/gcc-toolchains/GCC-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/glibc-toolchains/GLIBC-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/libstdc-toolchains/LIBSTDC-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/linux-header-toolchains/LINUX-HEADER-TOOLCHAINS-PKGBUILD'
)
noextract=()
md5sums=(
  'ccf526f775ef4e009299117349c2d8fd'
  '0c9b0125e155f7795dfdfc138cfd6e10'
  '7dd5e9e655c779978e33aa13173b370a'
  '1b00e362cfe18fbd1d67ceb4845f5a38'
  'c14d5c2467ad52652acd4da41e5eab84'
) #autofill using updpkgsums

_BUILD_DIR=$(pwd)

build() {

  # Making the Binutils PASS-1
  _prepare "binutils" "BINUTILS-TOOLCHAINS-PKGBUILD"
  _make "binutils"
  _cleanning "binutils"

  # Making the GCC PASS-1
  _prepare "gcc" "GCC-TOOLCHAINS-PKGBUILD"
  _make "gcc"
  _cleanning "gcc"

  # Making the Linux Header
  _prepare "linux-header" "LINUX-HEADER-TOOLCHAINS-PKGBUILD"
  _make "linux-header"
  _cleanning "linux-header"

  # Making the GLIBC
  _prepare "glibc" "GLIBC-TOOLCHAINS-PKGBUILD"
  _make "glibc"
  _cleanning "glibc"

  # Making the LIBSTDC
  _prepare "libstc" "LIBSTDC-TOOLCHAINS-PKGBUILD"
  _make "libstc"
  _cleanning "libstc"

}

package() {
  echo -e "No Install"
  cd ..
}

# /////////////////////////////////// < CUSTOM PACKAGING > ////////////////////////////////////

_prepare() {
  figlet "Prepare"
  mkdir -pv $1
  cp -avr $2 $1/PKGBUILD
}

_make() {
  figlet "MAKING"
  cd $1
  makepkg -f
}

_cleanning() {
  figlet "CLEANNIG"
  cd $_BUILD_DIR/src
  rm -rfv $1
}
