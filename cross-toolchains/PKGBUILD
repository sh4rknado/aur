# Maintainer: jordan B. <bertieaux.jo@gmail.com>
pkgname="ToolschainsHeaders"
pkgver="1.0"
pkgrel=1
pkgdesc="Toolschains LFS Packages"
arch=(x86_64)
url=""
license=('GPL')
groups=()
depends=('figlet')
makedepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=(
  'http://192.168.1.202/aur/binutils-toolchains/BINUTILS-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/gcc-toolchains/GCC-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/glibc-toolchains/GLIBC-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/libstdc-toolchains/LIBSTDC-TOOLCHAINS-PKGBUILD'
  'http://192.168.1.202/aur/linux-header-toolchains/LINUX-HEADER-TOOLCHAINS-PKGBUILD'
)
noextract=()
md5sums=(
  '3782eae6ad18386e20b277fe94337f51'
  '4bb7d0a9a2ce93495a082718b102f106'
  'ada8fad778405b0dbbb2df0c5313aec3'
  '925eb491332a2204c9b1b42d9d3c67dd'
  '32e7d33d746223efdefafc609d95d3a7'
) #autofill using updpkgsums

_BUILD_DIR=$(pwd)

build() {

  # Making the Binutils PASS-1
  _prepare "binutils" "BINUTILS-TOOLCHAINS-PKGBUILD"
  _make "binutils"
  _cleanning "binutils"

  # Making the GCC PASS-1
  _prepare "gcc" "GCC-TOOLCHAINS-PKGBUILD"
  _make "gcc"
  _cleanning "gcc"

  # Making the Linux Header
  _prepare "linux-header" "LINUX-HEADER-TOOLCHAINS-PKGBUILD"
  _make "linux-header"
  _cleanning "linux-header"

  # Making the GLIBC
  _prepare "glibc" "GLIBC-TOOLCHAINS-PKGBUILD"
  _make "glibc"
  _cleanning "glibc"

  # Making the LIBSTDC
  _prepare "libstc" "LIBSTDC-TOOLCHAINS-PKGBUILD"
  _make "libstc"
  _cleanning "libstc"

}

package() {
  echo -e "No Install"
  cd ..
}

# /////////////////////////////////// < CUSTOM PACKAGING > ////////////////////////////////////

_prepare() {
  figlet "Prepare"
  mkdir -pv $1
  cp -avr $2 $1/PKGBUILD
}

_make() {
  figlet "MAKING"
  cd $1
  makepkg -f
}

_cleanning() {
  figlet "CLEANNIG"
  cd $_BUILD_DIR/src
  rm -rfv $1
}
